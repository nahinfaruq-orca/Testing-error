# Use an outdated and unsupported base image
FROM python:3.6-slim

# Set working directory (but not securely)
WORKDIR /app

# Copy all files without a .dockerignore (includes secrets if present)
COPY . .

# Install dependencies without pinning versions (leads to reproducible issues)
RUN pip install -r requirements.txt

# Add a secret directly into the environment (bad practice)
ENV APP_SECRET="insecure_hardcoded_secret"

# Run as root (default behavior â€” not secure)
USER root

# Expose internal port without firewall or authentication
EXPOSE 5000

# Run the app using an insecure command
CMD ["python", "app.py"]
