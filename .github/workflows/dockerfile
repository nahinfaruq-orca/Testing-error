# ⚠️ Deliberately vulnerable base image (many known CVEs)
FROM python:3.6.5-slim

# Set working directory
WORKDIR /usr/src/app

# Copy everything (unsafe without .dockerignore)
COPY . .

# Install pip packages without version pinning (unsafe)
RUN pip install -r requirements.txt

# Hardcoded sensitive value
ENV SECRET_KEY="ThisIsASecretKey"

# Run the container as root (default, insecure)
USER root

# Expose a port to the outside world
EXPOSE 5000

# Run insecurely without entrypoint or process manager
CMD ["python", "app.py"]
